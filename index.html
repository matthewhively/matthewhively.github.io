<!DOCTYPE html> 
<html>
<head>
    <title>GSL Youtube Links</title>

<meta charset="UTF-8"> 
<meta name="viewport" part 2ent="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

<style type="text/css">
label {
   font-size: 30px;
   font-weight: bold;
}
.most_recent::before {
   part 2ent: '**';
}
</style>

<script type="text/javascript">

// Access page via https://matthewhively.github.io/

var matches = [
'Code S R.32 Group A',
['Match 1','https://youtu.be/uxCIS_Kv3co?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3309'],
['Match 1 part 2','https://www.youtube.com/watch?v=r3pvAhSho2s&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 2','https://youtu.be/r3pvAhSho2s?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2174'],
['Match 2 part 2','https://www.youtube.com/watch?v=od_Ly6XTnY0&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 3','https://youtu.be/od_Ly6XTnY0?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1196'],
['Match 4','https://youtu.be/od_Ly6XTnY0?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3353'],
['Match 4 part 2','https://www.youtube.com/watch?v=Sl43C2AfnOM&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=29'],
['Match 5','https://youtu.be/Sl43C2AfnOM?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2873'],
['Match 5 part 2','https://www.youtube.com/watch?v=HJMxbZAEc1E&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=30'],
'Code S R.32 Group B',
['Match 1','https://youtu.be/E_FOc0iA1UM?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2994'],
['Match 1 part 2','https://www.youtube.com/watch?v=j-8vlZJRy38&index=17&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 2','https://youtu.be/j-8vlZJRy38?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1850'],
['Match 3','https://youtu.be/zSLKlCP5nnY?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=47'],
['Match 4','https://youtu.be/zSLKlCP5nnY?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2879'],
['Match 4 part 2','https://www.youtube.com/watch?v=vynljfJ-AjI&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=19'],
['Match 5','https://youtu.be/vynljfJ-AjI?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1953'],
['Match 5 part 2','https://www.youtube.com/watch?v=xWj0rZQyR-k&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=20'],
'Code S R.32 Group C',
['Match 1','https://youtu.be/GOIhvkdXUCw?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2977'],
['Match 1 part 2','https://www.youtube.com/watch?v=9zWGkKtm6fE&index=12&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 2','https://youtu.be/9zWGkKtm6fE?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1529'],
['Match 3','https://youtu.be/9zWGkKtm6fE?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3162'],
['Match 3 part 2','https://www.youtube.com/watch?v=IryjSEfr1Sk&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=13'],
['Match 4','https://youtu.be/IryjSEfr1Sk?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2576'],
['Match 4 part 2','https://www.youtube.com/watch?v=jSqkUkLqlgU&index=14&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 5','https://youtu.be/jSqkUkLqlgU?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1061'],
['Match 5 part 2','https://www.youtube.com/watch?v=t2uy5QlLlrw&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=15'],
'Code S R.32 Group D',
/// youtube links are ALL FUCKED UP
['All Twitch', 'https://www.twitch.tv/videos/114595757'],
'Code S R.32 Group E',
['Match 1','https://youtu.be/IHzr7J9YqAg?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2975'],
['Match 1 part 2','https://www.youtube.com/watch?v=8lDfYWknYtY&index=2&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 2','https://youtu.be/8lDfYWknYtY?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2386'],
['Match 2 part 2','https://www.youtube.com/watch?v=JZjyPzaSTDs&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=3'],
['Match 3','https://youtu.be/JZjyPzaSTDs?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1116'],
['Match 4','https://youtu.be/uJzEwQN5eVM?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=388'],
['Match 5','https://youtu.be/uJzEwQN5eVM?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3053'],
['Match 5 part 2','https://www.youtube.com/watch?v=kNenWY7im2A&index=5&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
'Code S R.32 Group F',
['Match 1','https://youtu.be/hWgMSNHI1KA?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1156'],
['Match 2','https://youtu.be/Ilqs9m2Ds_0?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=228'],
['Match 3','https://youtu.be/RtMf9GPTPms?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=192'],
['Match 4','https://youtu.be/xij5zceK1fg?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=171'],
['Match 5','https://youtu.be/z_R7Y8FDqoI?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=147'],
'Code S R.32 Group G',
['Match 1','https://youtu.be/dUuyCt5Br34?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1159'],
['Match 2','https://youtu.be/XPD3U2iMnuU?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=222'],
['Match 3','https://youtu.be/CGCzRz2rAFY?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=172'],
['Match 4','https://youtu.be/bEMtdfITA-o?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=172'],
['Match 5','https://youtu.be/Cvxaa0JcgrQ?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=163'],
'Code S R.32 Group H',
['Match 1','https://youtu.be/uxCIS_Kv3co?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3290'],
['Match 1 part 2','https://www.youtube.com/watch?v=r3pvAhSho2s&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=27'],
['Match 2','https://youtu.be/r3pvAhSho2s?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2185'],
['Match 2 part 2','https://www.youtube.com/watch?v=od_Ly6XTnY0&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=28'],
['Match 3','https://youtu.be/od_Ly6XTnY0?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=1228'],
['Match 3 part 2',''],
['Match 4','https://youtu.be/od_Ly6XTnY0?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=3401'],
['Match 4 part 2','https://www.youtube.com/watch?v=Sl43C2AfnOM&index=29&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety'],
['Match 5','https://youtu.be/Sl43C2AfnOM?list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&t=2853'],
['Match 5 part 2','https://www.youtube.com/watch?v=HJMxbZAEc1E&list=PL9kbtXdyV0zseGUFNoTQYWV_Klu-09Ety&index=30'],
'Code S R.16 ',

'Code S R.16 ',

'Code S R.16 ',

'Code S R.16 ',

'Code S R.8',

'Code S R.4',

'Code S Finals',

/*
GROUP format
['Match 1',''],
['Match 1 part 2',''],
['Match 2',''],
['Match 2 part 2',''],
['Match 3',''],
['Match 3 part 2',''],
['Match 4',''],
['Match 4 part 2',''],
['Match 5',''],
['Match 5 part 2',''],

R8 R4
['Match 1 part A',''],
['Match 1 part B',''],
['Match 1 part C',''],
['Match 2 part A',''],
['Match 2 part B',''],
['Match 2 part C',''],
['Match 3 part A',''],
['Match 3 part B',''],
['Match 3 part C',''],
['Match 4 part A',''],
['Match 4 part B',''],
['Match 4 part C',''],

Finals
['Match 1 part A',''],
['Match 1 part B',''],
['Match 1 part C',''],

*/
];

function setC(n,v,p,t) {  //set cookie
    if (arguments.length < 2) {return;} //no cookie without name+value pair
    p = p || '/';
    t = t || 30*60; //30min default
    var e,
        dt = new Date();
    dt.setTime(dt.getTime()+(t*1000)); //num sec * millisec
    e = dt.toGMTString();
    document.cookie = n + '=' + encodeURIComponent(v) + '; path=' + p + '; expires=' + e;
}

function parseQuery(query) { //using ; or & allows this to work for cookies too
   var pairs,
       pair,
       i,  //loop counters
       params = {},
       uesc = decodeURIComponent;

   //NOTE: this will NOT handle arrays of params like ?foo[]=bar&foo[]=baz   should yield foo = array(bar,baz)
   if (query) {
       pairs = query.split(/; *|&/); //cookies might have spaces or not, url params will NOT
       for (i=0; i < pairs.length; i++) {
           pair = pairs[i].split('=');
           if ( ! pair ) part 2inue; //if the split failed for any reason skip it
           if (pair.length >= 2)
             { params[uesc(pair[0])] = uesc(pair.slice(1).join("=")); } //incase there was an extra = in the value portion
           else
             { params[uesc(pair[0])] = true; }
       }
       params.length = i; //add a quick length attribute for usefulness
   }
   return params;
}

var cParams = parseQuery(document.cookie);

if (! cParams['vid_url'] && matches.length > 0) { //if no cookie, we'll start at the beginning ::: find the first array type entry and start with that.
    var i = 0;
    while (i < matches.length && typeof(matches[i]) == 'string' ) {
        i++;
    }
    cParams['vid_url'] = matches[i][1];
}

function setup_player(evt, idx, section) {

   var data               = matches[idx];
   var the_youtube_player = document.getElementById('the_youtube_player');
   var now_playing        = document.getElementById('now_playing');
   now_playing.innerHTML  = section + " :: " + data[0];

   if (data[1].indexOf('embed') > -1) { //already the correct URL no parsing needed
      the_youtube_player.src = data[1];
   } else if (data[1].indexOf('twitch') > -1) { //a correct embeded twitch player URL
      the_youtube_player.src = data[1];
   } else {
      // format 1: https://www.youtube.com/watch?v=qlEBhDxqibY&list=PL9kbtXdyV0zti0mIssCA99DNmLYrk1K88&index=26
      // format 2: https://youtu.be/qlEBhDxqibY?list=PL9kbtXdyV0zti0mIssCA99DNmLYrk1K88&t=301
	  // also allows twitch videos (get example)
      var v, t;
      var parts = data[1].split('?');
      var params = parseQuery(parts[1]);

      if (parts[0].indexOf('youtu.be') > -1) {
         v = parts[0].split('/')[3];
         t = params.t;
      } else {
         v = params.v;
         t = 1;
      }
      the_youtube_player.src = 'https://www.youtube.com/embed/' + v + '?start=' + t;
   }

   if (evt.parentElement.id != 'reload_shortcut') {
       // set cookie to remember which one we most recently clicked on
       // cookie value is the URL
       setC('vid_url', matches[idx][1], '/', 30 * 86400);
       var all_links = document.querySelectorAll('li > a');
       for (var i = 0; i < all_links.length; i++) {
          all_links[i].className = ""; //clear all class names
       }
	   // set the link that was clicked to be marked so I know which one I'm on.
	   if (evt.className == 'next') {
		  // find the appropriate element, since it's NOT the clicked-item that I want to mark in this case
		  all_links[idx].className = 'most_recent';
       } else {
	      evt.className = 'most_recent';
	   }
       document.getElementById('reload_shortcut').innerHTML = '<a href="javascript:" onclick="setup_player(this, ' + idx + ', \'' + section + '\');">reload player</a>';

       if (idx < data.length) {
           document.getElementById('next_shortcut').innerHTML = '<a href="javascript:" class="next" onclick="setup_player(this, ' + (idx+1) + ', \'' + section + '\');">Next Video</a>';
       } else {
           document.getElementById('next_shortcut').innerHTML = 'Last Video';
       }
   }
   window.scrollTo(0,0);
   return false;
}

//TODO: on document load setup the video that is flagged (from the cookie) so I don't have to click the button

</script>

</head>
<body bgcolor="white">

<label for="the_youtube_player" id="now_playing"></label><br/>
<div style="padding:5px; float: left; background-color: #CCC;">
<iframe id="the_youtube_player" src="about:blank" title="YouTube video player" class="youtube-player" type="text/html" width="640" height="390" frameborder="0" allowFullScreen></iframe>
</div>
<div id="reload_shortcut" style="padding:5px; display:inline;"></div>
<br />
<br />
<div id="next_shortcut" style="padding:5px; display:inline;"></div>

<br style="clear:both;" />
<ol id="the_menu" style="margin-left: 20px;">
</ol>

<script type="text/javascript">

var the_menu = document.getElementById('the_menu');
var elm, clazz, section;

if (matches.length == 0) {
	elm = document.createElement('li');
	elm.innerHTML = '<h2>Add more Video links</h2>';
	the_menu.appendChild(elm);
}

for (var i = 0; i < matches.length; i++) {
   if (typeof(matches[i]) == 'string') {
       elm = document.createElement('h4');
       elm.innerHTML = matches[i];
       section = matches[i]; //for group labeling

   } else {
       elm   = document.createElement('li');
       clazz = '';
	   
	   // if this is the video that is marked as "current" via the cookie
       if ( matches[i][1] == cParams['vid_url'] ) {
           clazz = 'class="most_recent"';
           document.getElementById('reload_shortcut').innerHTML = '<a href="javascript:" onclick="setup_player(this, ' + i + ', \'' + section + '\');">reload player</a>';

           if (i < matches.length) {
               document.getElementById('next_shortcut').innerHTML = '<a href="javascript:" onclick="setup_player(this, ' + (i+1) + ', \'' + section + '\');">Next Video</a>';
           } else {
               document.getElementById('next_shortcut').innerHTML = 'Last Video';
           }

           var now_playing        = document.getElementById('now_playing');
           now_playing.innerHTML  = section + " :: " + matches[i][0];
       }
       //clazz = ( matches[i][1] == cParams['vid_url'] ? 'class="most_recent"' : '' );
       elm.innerHTML = '<a '+clazz+' href="javascript:" onclick="setup_player(this, ' + i + ', \'' + section + '\');">' + matches[i][0] + '</a>';
   }
   the_menu.appendChild(elm);
}
</script>

</body>
</html>
